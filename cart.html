<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Coffee - Free Bootstrap 4 Template by Colorlib</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
    <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Josefin+Sans:400,700" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Great+Vibes" rel="stylesheet">

    <link rel="stylesheet" href="css/open-iconic-bootstrap.min.css">
    <link rel="stylesheet" href="css/animate.css">
    
    <link rel="stylesheet" href="css/owl.carousel.min.css">
    <link rel="stylesheet" href="css/owl.theme.default.min.css">
    <link rel="stylesheet" href="css/magnific-popup.css">

    <link rel="stylesheet" href="css/aos.css">

    <link rel="stylesheet" href="css/ionicons.min.css">

    <link rel="stylesheet" href="css/bootstrap-datepicker.css">
    <link rel="stylesheet" href="css/jquery.timepicker.css">

    
    <link rel="stylesheet" href="css/flaticon.css">
    <link rel="stylesheet" href="css/icomoon.css">
    <link rel="stylesheet" href="css/style.css">
  </head>
  <body>
	<nav class="navbar navbar-expand-lg navbar-dark ftco_navbar bg-dark ftco-navbar-light" id="ftco-navbar">
		<div class="container">
			<a class="navbar-brand" href="index.html" style="color: white; font-size: 40px;"><b>BCoffee</b></a>
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#ftco-nav" aria-controls="ftco-nav" aria-expanded="false" aria-label="Toggle navigation">
			  <span class="oi oi-menu"></span> Menu
			</button>
			<div class="collapse navbar-collapse" id="ftco-nav">
			  <ul class="navbar-nav ml-auto">
				<li class="nav-item"><a href="index.html" class="nav-link">Home</a></li>
				<li class="nav-item"><a href="menu.html" class="nav-link">Menu</a></li>

				<li class="nav-item dropdown">
				  <a class="nav-link dropdown-toggle" href="room.html" id="dropdown04" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" onclick="checkLogin(event)">Shop</a>
				  <div class="dropdown-menu" aria-labelledby="dropdown04">
					<a href="#" class="dropdown-item" onclick="checkLogin(event, 'shop.html')">Shop</a>
					<a href="#" class="dropdown-item" onclick="checkLogin(event, 'product-single.html')">Single Product</a>
				  </div>
				</li>
				<li class="nav-item cart active"><a href="#" class="nav-link" onclick="checkLogin(event, 'cart.html')"><span class="icon icon-shopping_cart"></span><span class="bag d-flex justify-content-center align-items-center"><small>1</small></span></a></li>
				<li class="nav-item"><a href="#" class="nav-link" onclick="logout()" id="logoutLink" style="display: none;">Logout</a></li>
				<li class="nav-item dropdown" id="loginLink">
					<a class="nav-link dropdown-toggle" href="room.html" id="dropdown04" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" onclick="checkLogin(event)">Account</a>
					<div class="dropdown-menu" aria-labelledby="dropdown04">
						<a href="#" class="dropdown-item" data-toggle="modal" data-target="#registrasiModal">Registrasi</a>
						<a href="#" class="dropdown-item" data-toggle="modal" data-target="#loginModal">Login</a>
					</div>
				</li>
			  </ul>
			</div>
		  </div>
		</nav>
		  
	
		<!-- Login Modal -->
	<div class="modal fade" id="loginModal" tabindex="-1" role="dialog" aria-labelledby="loginModalLabel" aria-hidden="true">
		<div class="modal-dialog" role="document">
			<div class="modal-content" style="background-color: black;">
				<div class="modal-header">
					<h5 class="modal-title" id="loginModalLabel">Login</h5>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<form id="loginForm">
						<div class="form-group">
							<label for="loginEmail">Email address</label>
							<input type="email" class="form-control" id="loginEmail" placeholder="text here">
						</div>
						<div class="form-group">
							<label for="loginPassword">Password</label>
							<input type="password" class="form-control" id="loginPassword" placeholder="text here">
						</div>
						<p>Anda belum punya akun? <a href="#" data-toggle="modal" data-target="#registrasiModal">Registrasi di sini</a></p>
						<button type="submit" class="btn btn-primary">Login</button>
					</form>
				</div>
			</div>
		</div>
	</div>

	<!-- registrasi Modal -->
	<div class="modal fade" id="registrasiModal" tabindex="-1" role="dialog" aria-labelledby="registrasiModalLabel" aria-hidden="true">
		<div class="modal-dialog" role="document">
		  <div class="modal-content" style="background-color: black;">
			<div class="modal-header">
			  <h5 class="modal-title" id="registrasiModalLabel">REGISTRASI</h5>
			  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
				<span aria-hidden="true">&times;</span>
			  </button>
			</div>
			<div class="modal-body">
			  <form id="registrasiForm">
				<div class="form-group">
				  <label for="registrasiEmail">Email address</label>
				  <input type="email" class="form-control" id="registrasiEmail" placeholder="text here" required>
				</div>
				<div class="form-group">
				  <label for="registrasiPassword">Password</label>
				  <input type="password" class="form-control" id="registrasiPassword" placeholder="text here" required>
				</div>
				<div class="form-group">
				  <label for="registrasiConfirmPassword">Confirm Password</label>
				  <input type="password" class="form-control" id="registrasiConfirmPassword" placeholder="text here" required>
				</div>
				<button type="submit" class="btn btn-primary">Login</button>
			  </form>
			</div>
		  </div>
		</div>
	  </div>
	  
	  <script>
		// Cek apakah user sudah login
		function isLoggedIn() {
		  return localStorage.getItem('loggedIn') === 'true';
		}
	
		// Fungsi untuk mengecek status login
		function checkLogin(event, redirectUrl) {
		  if (!isLoggedIn()) {
			event.preventDefault();
			$('#loginModal').modal('show');
		  } else if (redirectUrl) {
			window.location.href = redirectUrl;
		  }
		}
	
		// Fungsi untuk logout
		function logout() {
		  localStorage.removeItem('loggedIn');
		  alert('Anda telah logout.');
		  updateLoginStatus();
		}
	
		// Fungsi untuk mengupdate tampilan login/logout
		function updateLoginStatus() {
		  if (isLoggedIn()) {
			document.getElementById('loginLink').style.display = 'none';
			document.getElementById('logoutLink').style.display = 'block';
		  } else {
			document.getElementById('loginLink').style.display = 'block';
			document.getElementById('logoutLink').style.display = 'none';
		  }
		}
	
		// Form submission event listener
		document.getElementById('registrasiForm').addEventListener('submit', function(event) {
		  event.preventDefault();
		  // Ambil nilai dari input username dan password
		  var email = document.getElementById('registrasiEmail').value;
		  var password = document.getElementById('registrasiPassword').value;
		  var valid = document.getElementById('registrasiConfirmPassword').value;
	
		  // Cek kredensial login
		  alert('email :  admin@gmail.com  Password :  123456');
		  if (email === 'muhammadalif1213@gmail.com' && password === '123456' && valid === '123456') {
			localStorage.setItem('loggedIn', 'true');
			$('#registrasiModal').modal('hide');
			alert('Registrasi berhasil! Anda sekarang sudah login.');
			updateLoginStatus();
		  } else {
			alert('Username atau password salah. Silakan coba lagi.');
		  }
		});

		// Form submission event listener
		document.getElementById('loginForm').addEventListener('submit', function(event) {
		  event.preventDefault();
		  // Ambil nilai dari input username dan password
		  var email1 = document.getElementById('loginEmail').value;
		  var password1 = document.getElementById('loginPassword').value;
	
		  // Cek kredensial login
		  if (email1 === 'muhammadalif1213@gmail.com' && password1 === '123456') {
			localStorage.setItem('loggedIn', 'true');
			$('#loginForm').modal('hide');
			alert('Login berhasil! Anda sekarang sudah login.');
			updateLoginStatus();
		  } else {
			alert('Username atau password salah. Silakan coba lagi.');
		  }
		});
	
		// Update status login saat halaman dimuat
		document.addEventListener('DOMContentLoaded', function() {
		  updateLoginStatus();
		});
		
		</script>
  
    <!-- END nav -->

    <section class="home-slider owl-carousel">

      <div class="slider-item" style="background-image: url(images/bg_3.jpg);" data-stellar-background-ratio="0.5">
      	<div class="overlay"></div>
        <div class="container">
          <div class="row slider-text justify-content-center align-items-center">

            <div class="col-md-7 col-sm-12 text-center ftco-animate">
            	<h1 class="mb-3 mt-5 bread">Cart</h1>
	            <p class="breadcrumbs"><span class="mr-2"><a href="index.html">Home</a></span> <span>Cart</span></p>
            </div>

          </div>
        </div>
      </div>
    </section>
		
		<section class="ftco-section ftco-cart">
			<div class="container">
				<div class="row">
    			<div class="col-md-12 ftco-animate">
    				<div class="cart-list">
	    				<table class="table">
						    <thead class="thead-primary">
						      <tr class="text-center">
						        <th>&nbsp;</th>
						        <th>&nbsp;</th>
						        <th>Product</th>
						        <th>Price</th>
						        <th>Quantity</th>
						        <th>Total</th>
						      </tr>
						    </thead>
						    <tbody id="cart-body" class="align-middle">
								<tr class="text-center">
									<td class="product-remove"><a href="#"><span class="icon-close"></span></a></td>
									
									<td class="image-prod"><div class="img" style="background-image:url(images/menu-2.jpg);"></div></td>
									
									<td class="product-name">
										<h3>Creamy Latte Coffee</h3>
										<p>Far far away, behind the word mountains, far from the countries</p>
									</td>
									
									<td class="price">$<span class="price-value">4.90</span></td>
									
									<td class="quantity">
										<div class="input-group mb-3">
											<input type="number" name="quantity" class="form-control quantity-input" value="1" min="1" max="100">
										</div>
									</td>
									
									<td class="total">$<span class="total-value">4.90</span></td>
								</tr>
								
						      <tr class="text-center">
						        <td class="product-remove"><a href="#"><span class="icon-close"></span></a></td>
						        
						        <td class="image-prod"><div class="img" style="background-image:url(images/dish-2.jpg);"></div></td>
						        
						        <td class="product-name">
						        	<h3>Grilled Ribs Beef</h3>
						        	<p>Far far away, behind the word mountains, far from the countries</p>
						        </td>
						        
						        <td class="price">$<span class="price-value">4.90</span></td>
									
									<td class="quantity">
										<div class="input-group mb-3">
											<input type="number" name="quantity" class="form-control quantity-input" value="1" min="1" max="100">
										</div>
									</td>
									
								<td class="total">$<span class="total-value">4.90</span></td>
						      </tr><!-- END TR-->
						    </tbody>
						  </table>
					  </div>
    			</div>
    		</div>
    		<div class="row justify-content-end">
    			<div class="col col-lg-3 col-md-6 mt-5 cart-wrap ftco-animate">
    				<div class="cart-total mb-3">
    					<h3>Cart Totals</h3>
    					<p class="d-flex">
    						<span>Subtotal</span>
    						<span>$20.60</span>
    					</p>
    					<p class="d-flex">
    						<span>Delivery</span>
    						<span>$0.00</span>
    					</p>
    					<p class="d-flex">
    						<span>Discount</span>
    						<span>$3.00</span>
    					</p>
    					<hr>
    					<p class="d-flex total-price">
    						<span>Total</span>
    						<span>$17.60</span>
    					</p>
    				</div>
    				<p class="text-center"><a href="checkout.html" class="btn btn-primary py-3 px-4">Proceed to Checkout</a></p>
    			</div>
    		</div>
			</div>
		</section>

    <footer class="ftco-footer ftco-section img">
    	<div class="overlay"></div>
      <div class="container">
        <div class="row mb-5">
          <div class="col-lg-3 col-md-6 mb-5 mb-md-5">
            <div class="ftco-footer-widget mb-4">
              <h2 class="ftco-heading-2">About Us</h2>
              <p>Sebuah Coffeeshop yang didirikan sejak beberapa tahun yang lalu.</p>
              <ul class="ftco-footer-social list-unstyled float-md-left float-lft mt-5">
                <li class="ftco-animate"><a href="#"><span class="icon-twitter"></span></a></li>
                <li class="ftco-animate"><a href="#"><span class="icon-facebook"></span></a></li>
                <li class="ftco-animate"><a href="#"><span class="icon-instagram"></span></a></li>
              </ul>
            </div>
          </div>
          <div class="col-lg-2 col-md-6 mb-5 mb-md-5">
             <div class="ftco-footer-widget mb-4 ml-md-4">
              <h2 class="ftco-heading-2">Services</h2>
              <ul class="list-unstyled">
                <li><a href="#" class="py-2 d-block">Cooked</a></li>
                <li><a href="#" class="py-2 d-block">Deliver</a></li>
                <li><a href="#" class="py-2 d-block">Quality Foods</a></li>
                <li><a href="#" class="py-2 d-block">Mixed</a></li>
              </ul>
            </div>
          </div>
          <div class="col-lg-3 col-md-6 mb-5 mb-md-5">
            <div class="ftco-footer-widget mb-4">
            	<h2 class="ftco-heading-2">Have a Questions?</h2>
            	<div class="block-23 mb-3">
	              <ul>
	                <li><span class="icon icon-map-marker"></span><span class="text">Jl. Brawijaya, Geblagan, Tamantirto, Kec. Kasihan, Kabupaten Bantul, Daerah Istimewa Yogyakarta 55183</span></li>
	                <li><a href="https://wa.me/+6289604639862"><span class="icon icon-phone"></span><span class="text">+62 878-7013-3425</span></a></li>
	                <li><a href="#"><span class="icon icon-envelope"></span><span class="text">bcoffee@umy.ac.id</span></a></li>
	              </ul>
	            </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-12 text-center">

            <p><!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
  Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved | Web Ini Dibuat Oleh Kelompok 3 Matkul PDW <i class="icon-heart" aria-hidden="true"></i>
  <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. --></p>
          </div>
        </div>
      </div>
    </footer>
    
  

  <!-- loader -->
  <div id="ftco-loader" class="show fullscreen"><svg class="circular" width="48px" height="48px"><circle class="path-bg" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke="#eeeeee"/><circle class="path" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke-miterlimit="10" stroke="#F96D00"/></svg></div>


  <script src="js/jquery.min.js"></script>
  <script src="js/jquery-migrate-3.0.1.min.js"></script>
  <script src="js/popper.min.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <script src="js/jquery.easing.1.3.js"></script>
  <script src="js/jquery.waypoints.min.js"></script>
  <script src="js/jquery.stellar.min.js"></script>
  <script src="js/owl.carousel.min.js"></script>
  <script src="js/jquery.magnific-popup.min.js"></script>
  <script src="js/aos.js"></script>
  <script src="js/jquery.animateNumber.min.js"></script>
  <script src="js/bootstrap-datepicker.js"></script>
  <script src="js/jquery.timepicker.min.js"></script>
  <script src="js/scrollax.min.js"></script>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBVWaKrjvy3MaE7SQ74_uJiULgl1JY0H2s&sensor=false"></script>
  <script src="js/google-map.js"></script>
  <script src="js/main.js"></script>
  <script src="js/login.js"></script>

  <script>
	document.addEventListener('DOMContentLoaded', function() {
		// Mendapatkan semua input quantity
		const quantityInputs = document.querySelectorAll('.quantity-input');
	
		quantityInputs.forEach(input => {
			input.addEventListener('input', function() {
				// Mendapatkan nilai quantity dan price
				const quantity = parseFloat(this.value);
				const priceElement = this.closest('tr').querySelector('.price .price-value');
				const price = parseFloat(priceElement.textContent);
	
				// Menghitung total harga
				const total = quantity * price;
	
				// Memperbarui elemen total
				const totalElement = this.closest('tr').querySelector('.total .total-value');
				totalElement.textContent = total.toFixed(2);
			});
		});
	});
	</script>

<script>
	document.addEventListener('DOMContentLoaded', () => {
		renderCart();
	});

	function renderCart() {
		const cartBody = document.getElementById('cart-body');
		const productsList = document.getElementById('products-list');
		const cart = JSON.parse(localStorage.getItem('cart')) || [];
		cartBody.innerHTML = '';
		productsList.innerHTML = '';

		let subtotal = 0;

		cart.forEach((item, index) => {
			const total = item.price * item.quantity;
			subtotal += total;

			const row = document.createElement('tr');
			row.innerHTML = `
				<td class="align-middle"><img src="${item.image}" alt="" style="width: 50px;"> ${item.product}</td>
				<td class="align-middle">Rp ${item.price.toLocaleString()}</td>
				<td class="align-middle">
					<div class="input-group quantity mx-auto" style="width: 100px;">
						<div class="input-group-btn">
							<button class="btn btn-sm btn-primary btn-minus" onclick="updateQuantity(${index}, -1)">
								<i class="fa fa-minus"></i>
							</button>
						</div>
						<input type="text" class="form-control form-control-sm bg-secondary text-center quantity-input" value="${item.quantity}" readonly>
						<div class="input-group-btn">
							<button class="btn btn-sm btn-primary btn-plus" onclick="updateQuantity(${index}, 1)">
								<i class="fa fa-plus"></i>
							</button>
						</div>
					</div>
				</td>
				<td class="align-middle total-price">Rp ${total.toLocaleString()}</td>
				<td class="align-middle"><button class="btn btn-sm btn-primary" onclick="removeFromCart(${index})"><i class="fa fa-times"></i></button></td>
			`;
			cartBody.appendChild(row);

			const productDetail = document.createElement('div');
			productDetail.className = 'd-flex justify-content-between';
			productDetail.innerHTML = `
			<p>${item.product}</p>
			<p>Rp ${item.price.toLocaleString()}</p>
			`;
			productsList.appendChild(productDetail);
		});

		document.getElementById('subtotal').innerText = Rp `${subtotal.toLocaleString()}`;
		const shipping = 10000;
		const total = subtotal + shipping;
		document.getElementById('total').innerText = Rp `${total.toLocaleString()}`;
	}

	function updateQuantity(index, change) {
		let cart = JSON.parse(localStorage.getItem('cart')) || [];
		if (cart[index].quantity + change > 0) {
			cart[index].quantity += change;
		} else if (change < 0) {
			cart[index].quantity = 1;
		}
		localStorage.setItem('cart', JSON.stringify(cart));
		renderCart();
	}

	function removeFromCart(index) {
		let cart = JSON.parse(localStorage.getItem('cart')) || [];
		cart.splice(index, 1);
		localStorage.setItem('cart', JSON.stringify(cart));
		renderCart();
	}
	
	function placeOrder() {
		alert("Order Successfully");
	}

	function updateCartFromDetailView() {
const quantity = parseInt(document.querySelector('.quantity input').value);
// Assuming you have a product ID or similar identifier
const productId = 'your-product-id';

let cart = JSON.parse(localStorage.getItem('cart')) || [];
const productIndex = cart.findIndex(item => item.id === productId);
if (productIndex > -1) {
	cart[productIndex].quantity = quantity;
} else {
	// Add new product if not found in the cart (customize this as needed)
	cart.push({
		id: productId,
		product: 'Your Product Name',
		price: 'Your Product Price',
		quantity: quantity,
		image: 'Your Product Image'
	});
}
localStorage.setItem('cart', JSON.stringify(cart));
renderCart();
}
</script>
	

    
  </body>
</html>